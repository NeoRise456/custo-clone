---
// src/components/Description.astro
import secondaryFadedBackground from '../assets/secondaryFadedBackground.webp';
import lambdaWindow from '../assets/lambda_window.webp';
import meetingWindow from '../assets/meeting_window.webp';
---
<section class="py-16 px-10">
    <div class="container-large flex flex-col gap-20">

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 feature-group opacity-0 translate-y-6 will-change-transform">
            <div class="overflow-hidden rounded-2xl w-full max-w-full lg:max-w-[28.375rem] relative feature-item opacity-0 translate-y-6 will-change-transform">
                <img src={secondaryFadedBackground.src} alt="a faded background, but its secondary" class="w-full h-full object-cover" />
                <div class="inset-0 z-10 absolute w-full h-full flex flex-col items-center justify-center gap-4">
                    <img src={meetingWindow.src} alt="lambda window" class="w-full h-full max-h-[22.5rem] object-cover self-center absolute" />
                </div>
            </div>
            <div class="max-w-[32.875rem] flex flex-col gap-4 justify-center order-first lg:order-last">
                <p class="text-lg font-medium text-[#00ad75] feature-item opacity-0 translate-y-6 will-change-transform">Analytics & Reporting</p>
                <p class="font-semibold text-4xl feature-item opacity-0 translate-y-6 will-change-transform">Understand Your Business Like Never Before</p>
                <p class="text-lg text-gray-600 feature-item opacity-0 translate-y-6 will-change-transform">Get real-time insights into sales performance, customer behavior, and business growth.</p>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 feature-group opacity-0 translate-y-6 will-change-transform">
            <div class="overflow-hidden rounded-2xl w-full max-w-full lg:max-w-[28.375rem] relative feature-item opacity-0 translate-y-6 will-change-transform">
                <img src={secondaryFadedBackground.src} alt="a faded background, but its secondary" class="w-full h-full object-cover" />
                <div class="inset-0 z-10 absolute w-full h-full flex flex-col items-center justify-center gap-4">
                    <img src={lambdaWindow.src} alt="lambda window" class="w-full h-full max-h-[22.5rem] object-cover self-center absolute" />
                </div>
            </div>
            <div class="max-w-[32.875rem] flex flex-col gap-4 justify-center order-first lg:order-last">
                <p class="text-lg font-medium text-[#00ad75] feature-item opacity-0 translate-y-6 will-change-transform">Multi-User Collaboration</p>
                <p class="font-semibold text-4xl feature-item opacity-0 translate-y-6 will-change-transform">Empower Your Team with Real-Time Sync</p>
                <p class="text-lg text-gray-600 feature-item opacity-0 translate-y-6 will-change-transform">Collaborate effortlessly with your team by sharing information, notes, and real-time updates.</p>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 feature-group opacity-0 translate-y-6 will-change-transform">
            <div class="overflow-hidden rounded-2xl w-full max-w-full lg:max-w-[28.375rem] relative feature-item opacity-0 translate-y-6 will-change-transform">
                <img src={secondaryFadedBackground.src} alt="a faded background, but its secondary" class="w-full h-full object-cover" />
                <div class="inset-0 z-10 absolute w-full h-full flex flex-col items-center justify-center gap-4">
                    <img src={meetingWindow.src} alt="lambda window" class="w-full h-full max-h-[22.5rem] object-cover self-center absolute" />
                </div>
            </div>
            <div class="max-w-[32.875rem] flex flex-col gap-4 justify-center order-first lg:order-last">
                <p class="text-lg font-medium text-[#00ad75] feature-item opacity-0 translate-y-6 will-change-transform">Email Integration</p>
                <p class="font-semibold text-4xl feature-item opacity-0 translate-y-6 will-change-transform">Manage Emails Without Leaving Your CRM</p>
                <p class="text-lg text-gray-600 feature-item opacity-0 translate-y-6 will-change-transform">Sync with your email to send, receive, and track conversations directly from the CRM</p>
            </div>
        </div>

    </div>
</section>

<script>
    import { inView, animate, stagger } from 'motion';

    inView('.feature-group', (el) => {
        if (el.dataset.animated) return;
        el.dataset.animated = 'true';

        // Animate the group container
        animate(el, { opacity: [0, 1], y: [24, 0] }, { duration: 0.6, ease: 'easeOut' });

        // Stagger inner feature items (if any)
        const items = el.querySelectorAll('.feature-item');
        animate(
            items,
            { opacity: [0, 1], y: [24, 0] },
            { duration: 0.6, ease: 'easeOut', delay: stagger(0.12) }
        );
    }, { amount: 0.25 });
</script>